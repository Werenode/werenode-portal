(self.webpackChunkwerenode_portal=self.webpackChunkwerenode_portal||[]).push([[5453],{42426:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>kn});var a=n(38193),r=n(28852),i=n(96540),l=n(44586),o=n(60144),s=n(1e4),c=n(37712),d=n(33242),m=n(76774),p=n(58168),u=n(6134),A=n(34494),g=n(77794),E=n(26332),y=n(10882);const h=(0,y.Ay)(A.A)((e=>{let{theme:t}=e;return{[`& .${g.A.root} .${g.A.notchedOutline}`]:{borderColor:"#34383e"},[`&:hover .${g.A.root} .${g.A.notchedOutline}`]:{borderColor:"white"},[`& .${g.A.root}.${g.A.focused} .${g.A.notchedOutline}`]:{borderColor:t.palette.primary.main},[`& .${g.A.input}`]:{color:"white"},[`&:hover .${g.A.input}`]:{color:"white"},[`& .${g.A.root}.${g.A.focused} .${g.A.input}`]:{color:"white"},[`& .${E.A.outlined}`]:{color:t.palette.text.secondary},[`&:hover .${E.A.outlined}`]:{color:"white"},[`& .${E.A.outlined}.${E.A.focused}`]:{color:t.palette.primary.main}}}));var f=n(66181),v=n(21560);const x=(0,y.Ay)(v.A)((e=>{let{theme:t}=e;return{[`& .${g.A.root} .${g.A.notchedOutline}`]:{borderColor:"#34383e"},[`&:hover .${g.A.root} .${g.A.notchedOutline}`]:{borderColor:"white"},[`& .${g.A.root}.${g.A.focused} .${g.A.notchedOutline}`]:{borderColor:t.palette.primary.main},[`& .${g.A.input}`]:{color:"white"},[`&:hover .${g.A.input}`]:{color:"white"},[`& .${g.A.root}.${g.A.focused} .${g.A.input}`]:{color:"white"},[`& .${E.A.outlined}`]:{color:t.palette.text.secondary},[`&:hover .${E.A.outlined}`]:{color:"white"},[`& .${E.A.outlined}.${E.A.focused}`]:{color:t.palette.primary.main}}}));var w=n(22104);const b=e=>{const t=e.length,n=e.startsWith("tz1");return 36===t&&n},C=e=>"1"<=e&&e<="9"||("A"<=e&&e<="H"||("J"<=e&&e<="N"||("P"<=e&&e<="Z"||("a"<=e&&e<="k"||"m"<=e&&e<="z")))),S=e=>"0"<=e&&e<="9"||"."===e;const[k,O]=(0,w.A)((function(){const[e,t]=(0,i.useState)({edition:!1,showerrors:!1,owner:"",id:"",nb:1,evseserver:"werenode",supervision:{type:"wherenodeocpp16"},connectors:[],freeusers:[],openaddaddress:!1,addConnector:()=>0,isInvalidIndex:()=>0,addFreeUser:()=>0,open:!1,connectormode:"ac1",power:2,connectortype:0,price:"0",index:1,currency:"euro",connectoredit:-1,edit:!1,showMessageBox:!1});return{data:e,setData:t,setShowErrors:e=>{t((t=>({...t,showerrors:e})))},setOwner:e=>{t((t=>({...t,edition:!0,owner:e})))},setId:e=>{e.length<=6&&t((t=>({...t,edition:!0,id:Array.from(e).filter(C).join("")})))},setNb:e=>{e>=1&&t((t=>({...t,edition:!0,nb:e})))},setSupervision:e=>{t("werenoderpcget"===e?e=>({...e,edition:!0,supervision:{type:"werenoderpcget",switchon:"",switchoff:""}}):t=>({...t,edition:!0,supervision:{type:e}}))},setLogin:e=>{t((t=>({...t,edition:!0,supervision:{...t.supervision,login:e}})))},setPwd:e=>{t((t=>({...t,edition:!0,supervision:{...t.supervision,pwd:e}})))},setSwitchOn:e=>{t((t=>({...t,edition:!0,supervision:{...t.supervision,switchon:e}})))},setSwitchOff:e=>{t((t=>({...t,edition:!0,supervision:{...t.supervision,switchoff:e}})))},setOpen:e=>{t((t=>({...t,edition:!0,open:e})))},setPrice:e=>{t((t=>({...t,edition:!0,price:Array.from(e).filter(S).join("")})))},setIndex:e=>{e>=1&&t((t=>({...t,edition:!0,index:e})))},setAddConnector:e=>{t((t=>({...t,addConnector:e})))},setIsInvalidIndex:e=>{t((t=>({...t,isInvalidIndex:e})))},rmConnector:e=>{t((t=>({...t,edition:!0,connectors:t.connectors.filter((t=>t.index!==e))})))},editConnector:e=>{t((t=>{const n=t.connectors.find((t=>t.index===e));return{...t,edition:!0,open:!0,connectoredit:n.index,index:parseInt(n.index),connectormode:n.mode,power:n.power,connectortype:n.type,price:n.price,currency:n.currency}}))},setConnectorEdit:e=>{t((t=>({...t,edition:!0,connectoredit:e})))},setOpenAddAddress:e=>{t((t=>({...t,edition:!0,openaddaddress:e})))},setAddFreeUsers:e=>{t((t=>({...t,addFreeUser:e})))},setEdit:e=>{t((t=>({...t,edit:e})))},setShowMessageBox:e=>{t((t=>({...t,showMessageBox:e})))}}}));var P=n(6631),T=n(48104);const I=(0,y.Ay)(T.A)((e=>{let{theme:t}=e;return{[`& .${g.A.root} .${g.A.notchedOutline}`]:{borderColor:"#34383e"},[`&:hover .${g.A.root} .${g.A.notchedOutline}`]:{borderColor:"white"},[`& .${g.A.root}.${g.A.focused} .${g.A.notchedOutline}`]:{borderColor:t.palette.primary.main},[`& .${g.A.input}`]:{color:"white"},[`&:hover .${g.A.input}`]:{color:"white"},[`& .${g.A.root}.${g.A.focused} .${g.A.input}`]:{color:"white"},[`& .${E.A.outlined}`]:{color:t.palette.text.secondary},[`&:hover .${E.A.outlined}`]:{color:"white"},[`& .${E.A.outlined}.${E.A.focused}`]:{color:t.palette.primary.main}}}));var V=n(86025),N=n(7292),F=n(74550),U=n(14484),D=n(40186);const L={owner:{label:"Owner",hash:"owner",desc:"Address of the Tezos account that owns the EVSE(s)."},id:{label:"Identifier",hash:"identifier",desc:"Identifier of the EVSE(s)."},nb:{label:"Number of EVSE(s)",hash:"number-of-evses",desc:"Number of EVSEs to declare."},evseserver:{label:"EVSE Server",hash:"evse-manager-server",desc:"EVSE Manager Server.",items:[{value:"werenode",label:"Werenode Server"}]},supervision:{label:"Type",hash:"type",desc:"Type of supervision",items:[{value:"wherenodeocpp16",label:"Werenode - OCPP 1.6"},{value:"wherenodeocpp20",label:"Werenode - OCPP 2.0"},{value:"werenoderpcget",label:"Werenode - RPC GET"}]},switchon:{label:"Url to switch on",hash:"switch-on-url",desc:"Url to switch EVSE on"},switchoff:{label:"Url to switch off",hash:"switch-off-url",desc:"Url to switch EVSE off"},connectormode:{label:"Mode",hash:"connector-mode",desc:"Mode for connector",items:[{value:"ac1",label:"Alternating - Monophased"},{value:"ac3",label:"Alternating - Triphased"},{value:"dc400",label:"Direct Courant - 400V"},{value:"dc800",label:"Direct Courant - 800V"},{value:"ind",label:"Inductive"}]},power:{label:"Power",hash:"connector-power",desc:"Connector power",items:[{value:2,label:"2kw"},{value:3,label:"3kw"},{value:7,label:"7kw"},{value:11,label:"11kw"},{value:22,label:"22kw"},{value:43,label:"43kw"},{value:50,label:"50kw"}]},connectortype:{label:"Type",hash:"connector-type",desc:"Connecter type",items:[{value:0,label:"Female domestic A"},{value:1,label:"Female domestic B"},{value:2,label:"Female domestic C"},{value:3,label:"Female domestic D"},{value:4,label:"Female domestic EF Schuko"},{value:5,label:"Female domestic G"},{value:6,label:"Female domestic H"},{value:7,label:"Female domestic I"},{value:8,label:"Female domestic J"},{value:9,label:"Female domestic K"},{value:10,label:"Female domestic L"},{value:11,label:"Female domestic M"},{value:12,label:"Female domestic N"},{value:13,label:"Female domestic O"},{value:14,label:"Female IEC 60309 one-phase blue 16A"},{value:15,label:"Female IEC 60309 three-phase red 16A"},{value:16,label:"Female IEC 60309 three-phase red 32A"},{value:17,label:"Female IEC 60309 three-phase red 63A"},{value:18,label:"Male type 1 with cable"},{value:19,label:"Female type 2"},{value:20,label:"Male type 2 with cable"},{value:21,label:"Male Tesla with cable"},{value:22,label:"Female type 3"},{value:23,label:"Combo type 1 with cable"},{value:24,label:"Combo type 2 with cable"},{value:25,label:"Male Tesla DC with cable"},{value:26,label:"Chademo with cable"}]},price:{label:"Price per minute",hash:"price-per-minute",desc:"Price per minute"},currency:{label:"Currency",hash:"currency",desc:"Currency",items:[{value:"euro",label:"EUR"}]},index:{label:"Index",hash:"index",desc:"Connector index"},freeusers:{label:"Free users",hash:"free-users",desc:"Free users"},freeuser:{label:"Free user account",hash:"free-users",desc:"Free user account address"},gps:{label:"GPS",hash:"gps-coordinate",desc:"GPS coordinate"}},B=e=>"wherenodeocpp16"===e||"wherenodeocpp20"===e,j=e=>{let t={};for(let n=0;n<L[e].items.length;n++)t[L[e].items[n].value]=L[e].items[n].label;return t},z=(0,y.Ay)((e=>{let{className:t,...n}=e;return i.createElement(N.A,(0,p.A)({},n,{classes:{popper:t},placement:"right-start"}))}))((e=>{let{theme:t}=e;return{[`& .${F.A.tooltip}`]:{backgroundColor:"#000"}}})),H=e=>{const t=window.location.protocol+"//"+window.location.host+(0,V.A)("docs/myevsesmanual#"+L[e.identifier].hash),n=e.error?"10px":"32px";return i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center",style:{width:"100%",marginBottom:n}},i.createElement(U.Ay,{item:!0,children:e.element,style:{width:"calc(100% - 64px)"}}),i.createElement(U.Ay,{item:!0,style:{marginLeft:"12px",marginRight:"32px"}},i.createElement(z,{title:i.createElement(i.Fragment,null,i.createElement(D.A,{variant:"caption"},L[e.identifier].desc),i.createElement(d.A,{size:"small",variant:"text",style:{fontSize:"10px"},onClick:()=>{window.open(t,"My EVSEs User Manual")}},"Learn more..."))},i.createElement(P.A,{fontSize:"small"}))))},q=e=>{const{data:t,setData:n}=O();return i.createElement(H,{identifier:e.identifier,element:i.createElement(x,{style:{width:"100%"}},i.createElement(f.A,null,L[e.identifier].label),i.createElement(h,{id:"evses"+e.identifier+e.extraid,label:L[e.identifier].label,value:void 0!==e.getValue?e.getValue:t[e.identifier],onChange:void 0!==e.handleChange?e.handleChange:function(t){n((n=>(n[e.identifier]=t.target.value,{...n,edition:!0})))}},L[e.identifier].items.map((e=>i.createElement(u.A,{key:e.value,value:e.value},e.label)))))})},R=e=>{const{data:t,setData:n}=O();const a=!!t.showerrors&&(()=>{let n;n=void 0!==e.getValue?e.getValue:t[e.identifier];let a=!1;return void 0!==e.isError&&e.isError(n)&&(a=!0),void 0===n||""===n||a})();return i.createElement(H,{identifier:e.identifier,error:a,element:i.createElement(I,{id:"evses"+e.identifier+(void 0!==e.extraid?e.extraid:""),label:L[e.identifier].label,color:"primary",variant:"outlined",value:void 0!==e.getValue?e.getValue:t[e.identifier],onChange:void 0!==e.handleChange?e.handleChange:function(t){n((n=>(n[e.identifier]=t.target.value,{...n,edition:!0})))},type:e.type,fullWidth:!0,error:a,helperText:a?e.errorText:""})})},Z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,width:"500px",p:4,paddingBottom:"8px",paddingRight:"12px"},W=()=>{const[e,t]=i.useState(""),{data:n,setOpenAddAddress:a,setShowErrors:r}=O();return i.createElement(m.A,{open:n.openaddaddress,onClose:()=>{a(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},i.createElement(c.A,{sx:Z},i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center"},i.createElement(U.Ay,{item:!0,xs:12},i.createElement(R,{identifier:"freeuser",getValue:e,handleChange:e=>t(e.target.value),isError:e=>!b(e),helperText:"Invalid address"})),i.createElement(U.Ay,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"flex-end",alignContent:"center"},i.createElement(d.A,{onClick:()=>{b(e)?(n.addFreeUser(e),a(!1),r(!1)):r(!0)}},"ok")))))},X={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4},M=()=>{const{data:e,setIndex:t,setPrice:n,setOpen:a,setShowErrors:r}=O(),l=t=>e.connectoredit!==e.index&&e.isInvalidIndex(t);return i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center"},i.createElement(U.Ay,{md:8,sm:12,xs:12,item:!0},i.createElement(q,{identifier:"connectormode"})),i.createElement(U.Ay,{md:4,sm:12,xs:12,item:!0},i.createElement(q,{identifier:"power"})),i.createElement(U.Ay,{md:12,sm:12,xs:12,item:!0},i.createElement(q,{identifier:"connectortype"})),i.createElement(U.Ay,{md:8,sm:12,xs:12,item:!0},i.createElement(R,{identifier:"price",handleChange:e=>n(e.target.value),errorText:"Price not set"})),i.createElement(U.Ay,{md:4,sm:4,xs:12,item:!0},i.createElement(q,{identifier:"currency"})),B(e.supervision.type)?i.createElement(U.Ay,{md:4,sm:4,xs:12,item:!0},i.createElement(R,{identifier:"index",type:"number",handleChange:e=>t(e.target.value),errorText:"Index already set",isError:l})):null,i.createElement(U.Ay,{xs:12,item:!0},i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"space-between",alignContent:"flex-end"},i.createElement(U.Ay,{item:!0},i.createElement(d.A,{onClick:()=>{a(!1)}},"cancel")),i.createElement(U.Ay,{item:!0},i.createElement(d.A,{variant:"contained",onClick:()=>{var t;l(e.index)||""===(t=e.price)||void 0===t?r(!0):(r(!1),e.addConnector(e),a(!1))}},"ok")))))};function G(){const{data:e,setOpen:t,setShowErrors:n}=O();return i.createElement(m.A,{open:e.open,onClose:()=>{t(!1),n(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},i.createElement(c.A,{sx:X},i.createElement(D.A,{id:"modal-modal-title",variant:"h6",component:"h2",style:{marginBottom:"34px"}},"Connector settings"),i.createElement(M,null)))}var K=n(36634);const[Q,J,Y,$,_,ee,te,ne]=(0,w.A)((function(e){let{appName:t}=e;const[{wallet:n,tezos:a,accountPkh:r},l]=i.useState((()=>({wallet:null,tezos:null,accountPkh:null}))),o=Boolean(a);i.useEffect((()=>K.TD.onAvailabilityChange((e=>{l({wallet:e?new K.TD(t):null,tezos:null,accountPkh:null})}))),[l,t]);const s=i.useCallback((async(e,t)=>{try{if(!n)throw new Error("Temple Wallet not available");await n.connect(e,t);const a=n.toTezos(),r=await a.wallet.pkh();l({wallet:n,tezos:a,accountPkh:r})}catch(a){alert(`Failed to connect TempleWallet: ${a.message}`)}}),[l,n]),c=i.useCallback((async(e,t)=>{try{if(!n)throw new Error("Temple Wallet not available");await n.reconnect(e,t);const a=n.toTezos(),r=await a.wallet.pkh();l({wallet:n,tezos:a,accountPkh:r})}catch(a){alert(`Failed to reconnect TempleWallet: ${a.message}`)}}),[l,n]);return{wallet:n,tezos:a,accountPkh:r,ready:o,connect:s,setState:l,reconnect:c}}),(e=>e.wallet),(e=>e.tezos),(e=>e.accountPkh),(e=>e.ready),(e=>e.connect),(e=>e.setState),(e=>e.reconnect));var ae=n(48110);const re="KT1S1HwknQzinmvQjay3BiNDmw4wq8H1nqNa",ie="tz1TQyYUuFbAroVARwhh5Fgqu2JE9HrvNi3a";class le{constructor(e,t,n,a,r){this.pid=e,this.pmng=t,this.powner=n,this.ptoken_id=a,this.pdata=r}}const[oe,se]=(0,w.A)((function(){const[e,t]=(0,i.useState)({data:[],shouldLoadData:!0,message:""}),n=(0,i.useCallback)((async(e,n)=>{try{const a=await e.wallet.at(re),r=await a.storage(),i=await r.evsemanager.get(ie),l=await Promise.all(i.evses.map((async e=>await r.evse.get(e))));t((e=>({...e,data:l.map(((e,t)=>({id:i.evses[t],data:e}))).filter((e=>e.data.evse_owner===n)).map((t=>{let n;try{n=JSON.parse((0,ae.k8)(t.data.evse_data))}catch(e){n={}}return{id:t.id,setting:{id:t.id,evseserver:L.evseserver.label,supervision:n.supervision||{type:"wherenodeocpp16"},connectors:n.connectors||[],freeusers:n.freeusers||[],gps:n.gps||n.location}}}))})))}catch(a){alert("An error occurs while loading data"),console.log(`${a.message}`)}})),a=(0,i.useCallback)((async(e,n)=>{t((e=>({...e,message:"Encrypting data"}))),n.pdata=(0,ae.yI)(JSON.stringify(n.pdata));const a=await e.wallet.at(re);t((e=>({...e,message:`May take several time to add ${n.pid}`})));const r=await a.methods.add_evse([n]).send();t((e=>({...e,message:"Waiting for confirmation"}))),await r.confirmation(),t((e=>({...e,message:`Evse ${n.pid} added successfully`})))})),r=(0,i.useCallback)((async(e,n)=>{if(!(e=>{return!!(e.pid&&e.powner&&e.pmng&&(t=e.pdata,t.supervision&&t.connectors&&0!==t.connectors.length));var t})(n))return void console.log("Empty field");t((e=>({...e,message:"Encrypting data"}))),n.pdata=(0,ae.yI)(JSON.stringify(n.pdata));const a=await e.wallet.at(re);t((e=>({...e,message:`May take several time to update ${n.pid}`})));const r=await a.methods.update_evse([n]).send();t((e=>({...e,message:"Waiting for confirmation"}))),await r.confirmation(),t((e=>({...e,message:`Evse ${n.pid} updated successfully`})))})),l=(0,i.useCallback)((async(e,n)=>{const a=await e.wallet.at(re);t((e=>({...e,message:`May take several time to remove ${n}`})));const r=await a.methods.remove_evse([n]).send();t((e=>({...e,message:"Waiting for confirmation"}))),await r.confirmation(),t((e=>({...e,message:`Evse ${n} removed successfully`})))}));return{evses:e,setEvses:t,retrieveEvsesFromStorage:n,addEvse:a,updateEvse:r,removeEvse:l}}));const[ce,de]=(0,w.A)((function(e){let{apiKey:t}=e;const[n,a]=(0,i.useState)(!1),r=(0,i.useCallback)((()=>{if(document.getElementById("scriptLoader"))return console.log("JS API is already loaded"),void a(!0);if(!n){let e=document.createElement("script");e.src=`https://maps.googleapis.com/maps/api/js?key=${t}&libraries=places&callback=init`,e.async=!0,e.id="scriptLoader",window.init=()=>{console.log("JS API is loaded and available")},document.head.appendChild(e),a(!0)}}));return{isGoogleApiLoaded:n,loadGoogleScript:r}}));var me=n(97574),pe=n(78025),ue=n(26866),Ae=n(85167);const ge=[{id:0,title:"Dashboard",icon:i.createElement(me.A,{style:{color:"white"}})},{id:1,title:"EVSEs",icon:i.createElement(Ae.A,{style:{color:"white"}})},{id:2,title:"Account",icon:i.createElement(pe.A,{style:{color:"white"}})},{id:3,title:"Export",icon:i.createElement(ue.A,{style:{color:"white"}})},{id:4,title:"Help",icon:i.createElement(P.A,{style:{color:"white"}})}],Ee="EVSEs",ye=e=>10*ge.length+e,he=e=>e-10*ge.length;const[fe,ve]=(0,w.A)((function(){const[e,t]=(0,i.useState)(0),[n,a]=i.useState(!1),[r,l]=i.useState(!1);return{panel:e,setPanel:e=>{t(e),e>=ye(0)&&r&&!n&&a(!0)},openevses:n,setOpenEvses:a,open:r,setOpen:l}}));const[xe,we]=(0,w.A)((function(){const[e,t]=(0,i.useState)(!1),[n,a]=(0,i.useState)(null);return{select:e,setSelect:t,selected:n,setSelected:a}}));const[be,Ce]=(0,w.A)((function(){const[e,t]=(0,i.useState)([]);return{settings:e,setSettings:t,createSettings:e=>{t(Array.from(Array(parseInt(e.nb)),((t,n)=>({id:e.id+" "+(n+1),owner:e.owner,evseserver:e.evseserver,supervision:e.supervision,connectors:e.connectors,freeusers:e.freeusers,gps:""}))))},setSetting:e=>n=>a=>{t((t=>t.map(((t,r)=>r==e?(t[n]=a,t):t))))}}})),Se={appname:"My Evses",login:{title:"Werenode EVSE manager",purpose:"Add, remove, edit your EVSE(s) and earn WRC tokens",connect:"Login with wallet account:",nowallet:"Temple wallet is not installed, click below to install and refresh this page:",button:"Connect to Temple wallet",install:"go to temple wallet site"}};var ke=n(89627),Oe=n(40038),Pe=n(83565),Te=n(75489);const Ie=(0,Oe.A)({paper:{paddingLeft:"20px",paddingRight:"20px",paddingTop:"30px",paddingBottom:"20px",marginLeft:"20px",marginRight:"20px",borderColor:"#34383e",borderWidth:"1px",borderStyle:"solid"},grid:{height:"100%"},title:{fontWeight:"bold"},purpose:{color:"grey",marginBottom:"40px"},connect:{marginBottom:"0px"},login:{padding:"12px"}}),Ve=e=>{const t=Ie(),n=ee(),a=i.useCallback((async()=>{try{await n("mainnet",{forcePermission:!0})}catch(e){alert(e.message)}}),[n]);return i.createElement(U.Ay,{item:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:1},i.createElement(U.Ay,{item:!0},i.createElement(D.A,{className:t.connect},Se.login.connect)),i.createElement(U.Ay,{item:!0},i.createElement(d.A,{disabled:e.disabled,variant:"outlined",style:{width:`${e.width}px`,padding:"12px"},onClick:a},Se.login.button)))},Ne=e=>{const t=Ie();return i.createElement(U.Ay,{item:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:1},i.createElement(U.Ay,{item:!0},i.createElement(D.A,{className:t.connect},Se.login.connect)),i.createElement(U.Ay,{item:!0},i.createElement(D.A,{variant:"caption",className:t.purpose},Se.login.nowallet)),i.createElement(U.Ay,{item:!0},i.createElement(Te.A,{to:"https://templewallet.com/",style:{textDecoration:"none"}},i.createElement(d.A,{disabled:e.disabled,variant:"contained",style:{color:"white",backgroundColor:"#ed8936",width:`${e.width}px`,padding:"12px"},endIcon:i.createElement(Pe.A,null)},Se.login.install))))},Fe=e=>{const t=Ie(),n=J(),a=Math.min(e.width-80,500);return i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",className:t.grid},i.createElement(U.Ay,{item:!0,style:{paddingBottom:"10%"}},i.createElement(ke.A,{className:t.paper,elevation:0},i.createElement(U.Ay,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start"},i.createElement(U.Ay,{item:!0},i.createElement(D.A,{className:t.title},Se.login.title)),i.createElement(U.Ay,{item:!0,style:{marginBottom:"40px"}},i.createElement(D.A,{variant:"caption",className:t.purpose},Se.login.purpose)),n?i.createElement(Ve,{width:a,disabled:!1}):i.createElement(Ne,{width:a,disabled:!1})))))};var Ue=n(12244),De=n(480),Le=n(89313),Be=n(17764),je=n(68602),ze=n(85264),He=n(51059),qe=n(13299),Re=n(38446),Ze=n(60682),We=n(26024),Xe=n(87270),Me=n(55360),Ge=n(36308),Ke=n(5593),Qe=n(29979),Je=n(97643),Ye=n(95615),$e=n(41874),_e=n(80571),et=n(16403),tt=n(46787);const nt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,width:"300px",wordBreak:"all"},at=e=>{let{message:t}=e;return i.createElement(U.Ay,{container:!0,sx:nt,direction:"column",alignItems:"center",justifyContent:"center"},i.createElement(U.Ay,{item:!0},i.createElement(tt.A,{variant:"indeterminate",sx:{color:"#00B1A5"}})),i.createElement(U.Ay,{item:!0},i.createElement(D.A,{variant:"caption"},t?`${t}`:"Loading data...")))},rt=(0,Oe.A)({tools:{width:"100%",height:"64px",borderTopStyle:"solid",borderColor:"#34383e",borderWidth:"1px",paddingRight:"24px"},evse:{width:"200px",height:"300px",borderColor:"#34383e",borderWidth:"1px",borderStyle:"solid"},selected:{width:"200px",height:"300px",borderColor:"rgba(0, 177, 165, 1)",borderWidth:"2px",borderStyle:"solid"},icons:{borderTop:"1px solid #34383e",borderBottom:"1px solid #34383e",paddingLeft:"8px"},icon:{marginTop:"6px",marginRight:"4px",marginLeft:"4px"},connector:{borderBottom:"1px solid #34383e",padding:"8px"}}),it=e=>{const t=rt();return i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center",className:t.connector},i.createElement(U.Ay,{item:!0}," ",i.createElement(et.A,{fontSize:"small"})),i.createElement(U.Ay,{item:!0}," ",i.createElement(D.A,{variant:"subtitle2"},e.data.index+":")),i.createElement(U.Ay,{item:!0,xs:12,style:{paddingLeft:"12px"}},i.createElement(D.A,{variant:"subtitle2"},j("power")[e.data.power])),i.createElement(U.Ay,{item:!0,xs:12,style:{paddingLeft:"12px"}},i.createElement(D.A,{variant:"subtitle2"},j("connectormode")[e.data.mode])))},lt=e=>{const{setPanel:t}=ve(),{select:n,selected:a,setSelected:r}=we(),{evses:l}=se(),o=rt(),s=e.data,c=ye(((e,t)=>e.map((e=>e.id)).indexOf(t))(l.data,s.id)),d=(0,Ue.A)();return i.createElement(Ke.A,{className:n&&a===s.id?o.selected:o.evse,onClick:()=>{n?a===e.data.id?r(null):r(e.data.id):t(c)}},i.createElement(U.Ay,{container:!0,direction:"column",justifyContent:"flex-start",alignContent:"center",style:{height:"300px"}},i.createElement(U.Ay,{item:!0,style:{padding:"12px"}},i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center"},i.createElement(U.Ay,{item:!0,xs:12},i.createElement(D.A,null,s.id)),i.createElement(U.Ay,{item:!0,xs:12},i.createElement(D.A,{variant:"subtitle2"},j("supervision")[s.setting.supervision.type])))),i.createElement(U.Ay,{item:!0},i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center",className:o.icons},i.createElement(U.Ay,{item:!0},i.createElement($e.A,{fontSize:"small",style:{color:d.palette.action.hover},className:o.icon})),i.createElement(U.Ay,{item:!0},i.createElement(_e.A,{fontSize:"small",style:{color:d.palette.action.disabled},className:o.icon})))),s.setting.connectors.map(((e,t)=>i.createElement(U.Ay,{key:"connector-"+s.id+"-"+t,item:!0},i.createElement(it,{data:e}))))))},ot=e=>{const{evses:t,setEvses:n,retrieveEvsesFromStorage:a}=se(),r=(0,Ue.A)(),l=Y(),o=$(),{data:s,setShowMessageBox:c}=O();return(0,i.useEffect)((()=>{if(!t.shouldLoadData)return;(async()=>{c(!0),await a(l,o),n((e=>({...e,shouldLoadData:!1,message:""}))),c(!1)})()}),[t.shouldLoadData]),s.showMessageBox?i.createElement(at,{message:t.message}):i.createElement(Ye.A,{maxWidth:"lg",style:{marginTop:"40px",height:e.height}},0===t.data.length?i.createElement(U.Ay,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",style:{height:"70%"}},i.createElement(U.Ay,{item:!0},i.createElement("img",{src:(0,V.A)("img/werenode_logo_no_name_250px_black.png"),alt:"werenode logo",style:{width:"150px",marginBottom:"20px"}})),i.createElement(U.Ay,{item:!0},i.createElement(D.A,{variant:"subtitle1",style:{color:r.palette.grey.A700}},"Click 'ADD' below to add an EVSE."))):i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:4,style:{paddingBottom:"40px"}},t.data.map((e=>i.createElement(U.Ay,{item:!0,key:e.id},i.createElement(lt,{data:e}))))))},st=["Add","Edit","Remove","Sort"],ct=e=>{const t=i.useRef(null),[n,a]=i.useState(!1),[r,l]=i.useState(!1),{selected:o,setSelect:s,setSelected:c}=we(),{setSettings:m}=Ce(),{setPanel:A}=ve(),{setEdit:g,setShowMessageBox:E,data:y}=O(),{evses:h,setEvses:f,removeEvse:v}=se(),x=Y(),w=e=>{t.current&&t.current.contains(e.target)||a(!1)};return i.createElement(U.Ay,{item:!0},y.showMessageBox?null:i.createElement(We.A,{variant:"contained",ref:t,"aria-label":"split button"},i.createElement(d.A,{onClick:()=>{switch(e.selectedIndex){case 3:f((e=>{let t;return t=r?e.data.sort(((e,t)=>e.id>t.id?1:-1)):e.data.sort(((e,t)=>e.id<t.id?1:-1)),{...e,data:t}})),l((e=>!e));break;case 2:if(o){console.log("removing");(async()=>{try{E(!0),await v(x,o),f((e=>({...e,shouldLoadData:!0}))),E(!1)}catch(e){alert(`An error occurs while removing ${e.message}`),E(!1),f((e=>({...e,shouldLoadData:!0,message:""})))}})()}e.setSelectedIndex(0),c(null),s(!1);break;case 1:if(o){g(!0);const e=h.data.filter((e=>o===e.id)).map((e=>e.setting));m(e),A(-1)}break;case 0:A(-1)}}},st[e.selectedIndex]),i.createElement(d.A,{size:"small","aria-controls":n?"split-button-menu":void 0,"aria-expanded":n?"true":void 0,"aria-label":"select EVSE action","aria-haspopup":"menu",onClick:()=>{a((e=>!e))}},i.createElement(Xe.A,null))),i.createElement(Qe.A,{open:n,anchorEl:t.current,role:void 0,transition:!0,disablePortal:!0},(t=>{let{TransitionProps:n,placement:r}=t;return i.createElement(Ge.A,(0,p.A)({},n,{style:{transformOrigin:"bottom"===r?"center top":"center bottom"}}),i.createElement(ke.A,{style:{backgroundColor:"#242526"}},i.createElement(Me.A,{onClickAway:w},i.createElement(Je.A,{id:"split-button-menu"},st.map(((t,n)=>i.createElement(u.A,{key:t,disabled:!1,selected:n===e.selectedIndex,onClick:t=>((t,n)=>{e.setSelectedIndex(n),a(!1),1===n||2===n?s(!0):(c(null),s(!1))})(0,n)},t)))))))})))},dt=()=>{const e=rt(),[t,n]=i.useState(0);return i.createElement("div",{className:e.tools},i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",style:{height:"100%"}},i.createElement(ct,{selectedIndex:t,setSelectedIndex:n})))},mt=e=>{const t=e.height-64,{isGoogleApiLoaded:n,loadGoogleScript:a}=de();return(0,i.useEffect)((()=>{n||a()}),[]),i.createElement(U.Ay,{container:!0,direction:"column-reverse",justifyContent:"space-between",alignItems:"center",style:{height:e.height}},i.createElement(U.Ay,{item:!0,style:{width:"100%"}},i.createElement(dt,null)),i.createElement(U.Ay,{item:!0,style:{width:"100%",maxHeight:t,overflow:"auto"}},i.createElement(ot,{height:t})))};var pt=n(93605),ut=n(81243),At=n(37576),gt=n(81008),Et=n(81621),yt=n(65356),ht=n(60497),ft=n(7756),vt=n(24711),xt=n(16329),wt=n(27944),bt=n(6523),Ct=n(67654),St=n(72456),kt=n(50736),Ot=n(42561),Pt=n(23931),Tt=n(61769);const It={width:"400px",height:"400px",fontDisplay:"auto",borderRadius:"10px"},Vt={lat:48.709445,lng:2.1661629},Nt=e=>{let{location:t,setLocation:n,evseId:a}=e;const{siteConfig:{customFields:r}}=(0,l.A)(),[o,s]=(0,i.useState)(Vt),[c,d]=(0,i.useState)(!0),[m,p]=(0,i.useState)(null);(0,i.useEffect)((()=>{u()&&s(t)}),[t]);const u=()=>!(0===t.lat||0===t.lng),A=()=>d((e=>!e));return i.createElement(Tt.u6,{googleMapsApiKey:r.googleApiKey,mapContainerStyle:It,zoom:18,center:o},i.createElement(Tt.pH,{position:u(t)?t:Vt,draggable:!0,onDragEnd:e=>(e=>{u()&&(n({lat:e.latLng.lat(),lng:e.latLng.lng()}),s(e.latLng))})(e),onLoad:e=>p(e),onClick:A}),c&&i.createElement(Tt.Fu,{anchor:m,onCloseClick:A},i.createElement("div",{style:{color:"black"}},i.createElement("span",null,"Evse : ",i.createElement("strong",null,a)),i.createElement("br",null),`lat : ${t.lat}`,i.createElement("br",null),`lng : ${t.lng}`)))};var Ft=n(5442),Ut=n(20518);const Dt=()=>{const{settings:e}=Ce(),[t,n]=(0,i.useState)(""),[a,r]=(0,i.useState)(function(){if(!e[0].gps||!e[0].gps.includes(","))return{lat:0,lng:0};const t=e[0].gps.split(",");return{lat:+t[0],lng:+t[1]}}()),[l,o]=(0,i.useState)("Enter an address"),{isGoogleApiLoaded:s,loadGoogleScript:c}=de(),[d,m]=(0,i.useState)(!0),u=()=>m((e=>!e));(0,i.useEffect)((()=>{s||c()}),[]),(0,i.useEffect)((()=>{e[0].gps&&0!==a.lat&&0!==a.lng&&(e[0].gps=`${a.lat} , ${a.lng}`,n(`${a.lat} , ${a.lng}`))}),[a]);return s?i.createElement(U.Ay,{container:!0},i.createElement(U.Ay,{item:!0,xs:12,position:"relative"},i.createElement(Pt.Ay,{value:t,onChange:n,onSelect:()=>{(0,Pt.IU)(t).then((e=>(0,Pt.rg)(e[0]))).then((e=>{r({lat:e.lat,lng:e.lng}),o("First enter an address"),console.log(`${e.lat}, ${e.lng}`)})).catch((e=>{console.log(`Error ${e}`)}))},onError:(e,t)=>{console.log(`status ${e}`),t(),n(""),o(`${e}`),r({lat:0,lng:0})}},(e=>t=>{let{getInputProps:n,suggestions:a,getSuggestionItemProps:r,loading:l}=t;return i.createElement(U.Ay,{container:!0,direction:"column"},i.createElement(H,{identifier:"gps",element:i.createElement(I,(0,p.A)({helperText:e},n({name:"GPS",label:"GPS"})))}),i.createElement(U.Ay,{item:!0,container:!0,direction:"column",position:"absolute",top:"70%",zIndex:1,alignItems:"left"},l&&i.createElement("div",null,"Loading..."),a.filter((e=>e.index<=10)).map((e=>{return i.createElement(U.Ay,(0,p.A)({item:!0,key:`idx-${e.index}-${e.placeId}`},r(e,{style:(t=e.active,{backgroundColor:t?"#00B1A5":"#f2f3f4",fontFamily:"Roboto, Arial, sans-serif",cursor:"pointer",color:"black",display:"flex",justifyContent:"center",alignItems:"center"})}),{width:"100%"}),i.createElement(Ft.A,null),e.description);var t}))))})(l))),i.createElement(U.Ay,{item:!0,xs:12},d?i.createElement(je.A,{onClick:u,color:"primary",sx:{height:"20px",fontSize:"0.8em"}},i.createElement(Ut.A,null),"Hide map"):i.createElement(je.A,{onClick:u,sx:{color:"lightgray",height:"20px",fontSize:"0.8em"}},i.createElement(Ut.A,null),"Show map"),d&&i.createElement(Nt,{location:a,setLocation:r,evseId:e[0].id}))):i.createElement("span",{style:{color:"red"}},"Map mode not available")},Lt={GPS_COORDINATES:"GPS COORDINATES",MAP:"MAP",CURRENT_LOCATION:"CURRENT LOCATION"},Bt=[{value:1,mode:Lt.GPS_COORDINATES},{value:2,mode:Lt.MAP},{value:3,mode:Lt.CURRENT_LOCATION}],jt=e=>{const[t,n]=(0,i.useState)(Lt.GPS_COORDINATES),{settings:a}=Ce(),[r,l]=(0,i.useState)(a[0].gps),[o,s]=(0,i.useState)("");(0,i.useEffect)((()=>{if(o&&s(""),t===Lt.CURRENT_LOCATION){if(!("geolocation"in navigator))return;navigator.geolocation.getCurrentPosition((e=>{l(`${e.coords.latitude}, ${e.coords.longitude}`)}),(e=>{l(""),s(e.message)}))}Lt===Lt.GPS_COORDINATES&&l(a[0].gps)}),[t]),(0,i.useEffect)((()=>{a[0].gps=r}),[r]);return i.createElement(U.Ay,{container:!0},i.createElement(U.Ay,{item:!0,xs:6},t===Lt.MAP?i.createElement(Dt,null):i.createElement(R,{identifier:e.identifier,extraid:e.extraid,getValue:r,handleChange:e=>(e=>l(e.target.value))(e),isError:e.isError,errorText:e.errorText}),o&&i.createElement("span",{style:{color:"red"}},o)),i.createElement(U.Ay,{item:!0,xs:4},i.createElement(x,{sx:{width:"80%"}},i.createElement(f.A,{id:"evses"+e.identifier+e.extraid},"GPS Mode"),i.createElement(h,{id:"evses"+e.identifier+e.extraid,label:"Mode",value:t,onChange:e=>(e=>n(e.target.value))(e)},Bt.map((e=>i.createElement(u.A,{key:e.value,value:e.mode},e.mode)))))))};var zt=n(44323),Ht=n(36459);const qt=n.p+"assets/images/werenode_footer-4928d2852be0039edefa51e28b62bac4.png";var Rt=n(48432);const Zt=e=>{let{evseName:t,evseLink:n}=e;return i.createElement("div",{className:"PDFcontainer"},i.createElement("div",null,i.createElement(je.A,{sx:{"&:hover":{backgroundColor:"gray"},margin:"20px",border:"1px solid black",borderRadius:"50%"},onClick:()=>(()=>{const e=new zt.Ay,n=document.getElementById("ticket-html");e.internal.pageSize.width=n.clientWidth,e.internal.pageSize.height=n.clientHeight,e.html(n,{callback:e=>e.save(`Evse_${t}.pdf`),html2canvas:{scale:.86999999}})})()},i.createElement(Rt.A,null))),i.createElement("div",{id:"ticket-html",className:"ticket"},i.createElement("img",{src:"data:image/png;base64,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",alt:"werenode header ticket"}),i.createElement("div",{className:"container-qrcode"},i.createElement("div",{className:"qrcode-box"},i.createElement(Ht.Ay,{className:"qrcode",id:"qrCodeEl",size:180,value:`${n}${t}`})),i.createElement("div",{className:"qrcode-info"},i.createElement("div",{className:"triangle"}),i.createElement("div",{className:"evse-name",id:"div-evse-name"},t))),i.createElement("img",{src:qt,alt:"werenode footer ticket"})))};function Wt(e,t){switch(e){case"xs":return"xs"===t;case"sm":return"xs"===t||"sm"===t;default:return!0}}const Xt=(0,Oe.A)({paper:{border:"1px solid #34383e",bgcolor:"background.paper",boxShadow:10,marginLeft:"12px",marginRight:"12px"},header:{borderBottom:"1px solid #34383e",width:"100%"},buttons:{borderTop:"1px solid #34383e",padding:"24px"},title:{padding:"24px"},panel:{padding:"24px"},connectorformpanel:{paddingTop:"32px",paddingRight:"24px",paddingLeft:"24px"},connector:{border:"1px solid #34383e"},freeusers:{border:"1px solid #34383e",borderRadius:"4px",padding:"24px",position:"relative"},settings:{paddingTop:"24px",paddingLeft:"24px"}}),Mt=e=>{const t=Xt(),n=$(),{setOpenAddAddress:a,setAddFreeUsers:r,setData:l}=O(),o=(0,Ue.A)();i.useEffect((()=>{if(!e.freeusers.includes(n)){const t=e.freeusers.push(n);l((e=>({...e,freeusers:t})))}}),[]);let s=e.freeusers.map((t=>{return i.createElement(U.Ay,{key:t,item:!0},i.createElement(ht.A,{variant:"outlined",onDelete:(n=t,()=>{e.rmFreeUser(n)}),label:t}));var n}));return s=s.concat([i.createElement(U.Ay,{key:"add",item:!0},i.createElement(d.A,{onClick:()=>{r(e.addFreeUser),a(!0)}},"add address"))]),i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center",className:t.freeusers},i.createElement(D.A,{variant:"subtitle2",style:{position:"absolute",top:"-11px",backgroundColor:o.palette.background.paper,paddingLeft:"8px",paddingRight:"8px"}},"Free access address(es)"),i.createElement(U.Ay,{item:!0,container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center",spacing:2},s))},Gt=()=>{const e=Xt(),{data:t,setData:n}=O();return i.createElement(U.Ay,{container:!0,direction:"column"},i.createElement(U.Ay,{item:!0,className:e.panel},i.createElement(Mt,{freeusers:t.freeusers,addFreeUser:e=>{n((t=>({...t,edition:!0,freeusers:t.freeusers.filter((t=>t!==e)).concat([e])})))},rmFreeUser:e=>{n((t=>({...t,edition:!0,freeusers:t.freeusers.filter((t=>t!==e))})))}})))},Kt=e=>{const t=Xt();return i.createElement(U.Ay,{item:!0,key:e.identifier,xs:12},i.createElement(Ke.A,{key:e.identifier,className:t.connector},i.createElement(pt.A,null,i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2},B(e.supervisiontype)?i.createElement(U.Ay,{item:!0},i.createElement(ht.A,{variant:"outlined",icon:i.createElement(wt.A,null),label:e.data.index})):null,i.createElement(U.Ay,{item:!0},i.createElement(ht.A,{variant:"outlined",icon:i.createElement(et.A,null),label:(n=e.data.mode,j("connectormode")[n])})),i.createElement(U.Ay,{item:!0},i.createElement(ht.A,{variant:"outlined",icon:i.createElement(_e.A,null),label:(e=>j("power")[e])(e.data.power)})),i.createElement(U.Ay,{item:!0},i.createElement(ht.A,{variant:"outlined",icon:i.createElement(xt.A,null),label:(e=>j("connectortype")[e])(e.data.type)})),i.createElement(U.Ay,{item:!0},i.createElement(ht.A,{variant:"outlined",icon:i.createElement(bt.A,null),label:(e=>{const t=j("currency")[e.currency];return e.price+" "+t})(e.data)})))),e.hideButtons?null:i.createElement(ut.A,null,i.createElement(je.A,{onClick:()=>e.editConnector(e.data.index)},i.createElement(ft.A,{fontSize:"small"})),i.createElement(je.A,{onClick:()=>e.rmConnector(e.data.index)},i.createElement(vt.A,{fontSize:"small"})))));var n},Qt=()=>{const e=Xt(),{data:t,setOpen:n,rmConnector:a,editConnector:r,setData:l,setAddConnector:o,setIsInvalidIndex:s}=O(),c=()=>{l((e=>{const t={index:parseInt(e.index),mode:e.connectormode,power:e.power,type:e.connectortype,price:e.price,currency:e.currency};return-1===e.connectoredit?{...e,edition:!0,connectors:e.connectors.concat([t])}:{...e,edition:!0,connectoredit:-1,connectors:e.connectors.map((n=>n.index===e.connectoredit?t:n))}}))},m=e=>-1!==t.connectors.map((e=>e.index)).indexOf(parseInt(e)),p=(0,Ue.A)();return i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center",className:e.panel,spacing:4},t.connectors.length>0?t.connectors.map(((e,n)=>i.createElement(Kt,{key:"connector"+n,identifier:n,rmConnector:a,editConnector:r,supervisiontype:t.supervision.type,data:t.connectors[n],hideButtons:!1}))):i.createElement(U.Ay,{item:!0,style:{height:"150px"},container:!0,direction:"row",justifyContent:"center",alignContent:"center"},i.createElement(D.A,{variant:"subtitle1",style:{color:t.showerrors?p.palette.error.main:"#34383e"}},"No Connector. Click 'ADD CONNECTOR'.")),i.createElement(U.Ay,{xs:12,item:!0,container:!0,direction:"row",justifyContent:"flex-end",alignContent:"center"},i.createElement(U.Ay,{item:!0},i.createElement(d.A,{onClick:()=>{n(!0),o(c),s(m)}},"add connector"))))},Jt=e=>{const{settings:t,setSettings:n}=Ce();return i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center"},i.createElement(U.Ay,{item:!0,md:12,sm:12,xs:12},i.createElement(R,{identifier:"switchon",extraid:e.index,getValue:t[e.index].supervision.switchon,handleChange:t=>{n((n=>n.map(((n,a)=>a===e.index?{...n,supervision:{...n.supervision,switchon:t.target.value}}:n))))},errorText:"Invalid Url"})),i.createElement(U.Ay,{item:!0,md:12,sm:12,xs:12},i.createElement(R,{identifier:"switchoff",extraid:e.index,getValue:t[e.index].supervision.switchoff,handleChange:t=>{n((n=>n.map(((n,a)=>a===e.index?{...n,supervision:{...n.supervision,switchoff:t.target.value}}:n))))},errorText:"Invalid Url"})))},Yt=()=>{const{data:e,setSwitchOn:t,setSwitchOff:n}=O();return i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center"},i.createElement(U.Ay,{item:!0,md:12,sm:12,xs:12},i.createElement(R,{identifier:"switchon",getValue:e.supervision.switchon,handleChange:e=>t(e.target.value),errorText:"Invalid Url"})),i.createElement(U.Ay,{item:!0,md:12,sm:12,xs:12},i.createElement(R,{identifier:"switchoff",getValue:e.supervision.switchoff,handleChange:e=>n(e.target.value),errorText:"Invalid Url"})))},$t=()=>{const e=Xt(),{data:t,setSupervision:n}=O();return i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center",className:e.panel},i.createElement(U.Ay,{item:!0,sm:12,md:6,xs:12},i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center"},i.createElement(U.Ay,{item:!0,md:12,sm:12,xs:12},i.createElement(q,{identifier:"supervision",handleChange:e=>{n(e.target.value)},getValue:t.supervision.type})),"werenoderpcget"===t.supervision.type?i.createElement(Yt,null):null)))},_t=()=>{const e=Xt(),{data:t,setData:n,setNb:a,setId:r}=O(),l=$();return i.useEffect((()=>{t.edition||n((e=>({...e,owner:l,freeusers:e.freeusers.concat([l])})))}),[]),i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center",className:e.panel},i.createElement(U.Ay,{item:!0,sm:12,md:6,xs:12},i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center"},i.createElement(U.Ay,{item:!0,xs:12},i.createElement(R,{identifier:"owner",isError:()=>!b(t.owner),errorText:"Invalid address format"})),i.createElement(U.Ay,{item:!0,xs:6},i.createElement(R,{identifier:"id",handleChange:e=>r(e.target.value),errorText:"Empty identifier"})),i.createElement(U.Ay,{item:!0,xs:6},i.createElement(R,{identifier:"nb",type:"number",handleChange:e=>a(e.target.value)})),i.createElement(U.Ay,{item:!0,xs:12},i.createElement(q,{identifier:"evseserver"})))))},en=e=>{const t=Xt(),[n,a]=i.useState(!1),{settings:r,setSettings:l,setSetting:o}=Ce(),{setOpen:s,setData:c,setAddConnector:m,setIsInvalidIndex:p}=O(),{evses:u}=se(),A=t=>()=>{l((n=>n.map(((n,a)=>a===e.index?{...n,connectors:n.connectors.filter(((e,n)=>n!==t))}:n))))},g=t=>{l((n=>n.map(((n,a)=>{if(a===e.index){const e={index:parseInt(t.index),mode:t.connectormode,power:t.power,type:t.connectortype,price:t.price,currency:t.currency};return-1===t.connectoredit?{...n,connectors:n.connectors.concat([e])}:{...n,connectors:n.connectors.map((n=>n.index===t.connectoredit?e:n))}}return n})))),c((e=>({...e,connectoredit:-1})))},E=t=>()=>{m(g);const n=r[e.index].connectors.find((e=>e.index===t));c((e=>({...e,edition:!0,open:!0,connectoredit:n.index,index:parseInt(n.index),connectormode:n.mode,power:n.power,connectortype:n.type,price:n.price,currency:n.currency})))},y=t=>-1!==r[e.index].connectors.map((e=>e.index)).indexOf(parseInt(t));return i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center",className:t.settings},i.createElement(U.Ay,{item:!0,md:4,sm:12,xs:12},i.createElement(R,{identifier:"id",extraid:e.index,getValue:r[e.index].id,handleChange:t=>o(e.index)("id")(t.target.value),isError:e=>-1!==u.data.map((e=>e.id)).indexOf(e),errorText:"Identifier already taken"})),i.createElement(U.Ay,{item:!0,md:6,sm:12,xs:12},i.createElement(jt,{identifier:"gps",extraid:e.index,isError:e=>""===e,errorText:"Invalid GPS value"})),i.createElement(U.Ay,{item:!0,xs:12,style:{marginBottom:"1px"}},i.createElement(Ct.A,null,i.createElement(St.A,{expandIcon:i.createElement(Ot.A,null),onClick:()=>{a((e=>!e))},"aria-controls":"panel1a-content-"+e.index,id:"panel1a-header-"+e.index},i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center",spacing:2},i.createElement(D.A,{variant:"subtitle2",style:{color:"#34383e"}},"Click to "+(n?"collapse":"expand")+" settings"))),i.createElement(kt.A,{style:{padding:0}},i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center"},i.createElement(U.Ay,{item:!0,sm:12,md:6,xs:12},i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"center"},i.createElement(U.Ay,{item:!0,md:12,sm:12,xs:12},i.createElement(q,{identifier:"supervision",extraid:e.index,handleChange:t=>{l((n=>n.map(((n,a)=>a===e.index?"werenoderpcget"===t.target.value?{...n,supervision:{type:t.target.value,switchon:"",switchoff:""}}:{...n,supervision:{...n.supervision,type:t.target.value}}:n))))},getValue:r[e.index].supervision.type})),"werenoderpcget"===r[e.index].supervision.type?i.createElement(Jt,{index:e.index}):null)),i.createElement(U.Ay,{item:!0,xs:12,container:!0,style:{paddingRight:"32px",marginBottom:"12px"},spacing:2},r[e.index].connectors.map(((t,n)=>i.createElement(Kt,{key:"connector"+e.index+n,identifier:n,rmConnector:A(n),editConnector:E(t.index),supervisiontype:r[e.index].supervision.type,data:t})))),i.createElement(U.Ay,{item:!0,xs:12,container:!0,justifyContent:"flex-end",style:{paddingRight:"32px",marginBottom:"12px"}},i.createElement(d.A,{onClick:()=>{s(!0),m(g),p(y)}},"add connector")),i.createElement(U.Ay,{item:!0,xs:12,style:{paddingRight:"32px",marginBottom:"32px"}},i.createElement(Mt,{freeusers:r[e.index].freeusers,addFreeUser:t=>{l((n=>n.map(((n,a)=>a===e.index?{...n,freeusers:n.freeusers.filter((e=>e!==t)).concat([t])}:n))))},rmFreeUser:t=>{l((n=>n.map(((n,a)=>a===e.index?{...n,freeusers:n.freeusers.filter((e=>e!==t))}:n))))}})))))))},tn=()=>{const{settings:e}=Ce();return i.createElement(U.Ay,{container:!0,direction:"row"},e.map(((e,t)=>i.createElement(U.Ay,{key:"evse"+t,xs:12,item:!0,style:{borderBottom:"1px solid #34383e"}},i.createElement(en,{index:t})))))},nn=()=>{const{evses:e}=se(),{settings:t}=Ce();return i.createElement(U.Ay,{container:!0,direction:"column"},i.createElement(U.Ay,{item:!0,textAlign:"left",margin:"20px 20px"},i.createElement(D.A,null,"Data size : ",new Blob([JSON.stringify(e.data)]).size," bytes")),i.createElement(U.Ay,{item:!0,xs:12},i.createElement(Zt,{evseName:t[0].id,evseLink:"https://werenode.com/s/?evse="})))},an=[{title:"General Settings",panel:i.createElement(_t,null)},{title:"Supervision",panel:i.createElement($t,null)},{title:"Connectors",panel:i.createElement(Qt,null)},{title:"Other Settings",panel:i.createElement(Gt,null)},{title:"Edit Settings",panel:i.createElement(tn,null)},{title:"Validate",panel:i.createElement(nn,null)}],rn=e=>e?[{title:"Edit Settings",panel:i.createElement(tn,null)},{title:"Validate",panel:i.createElement(nn,null)}]:an,ln=e=>{const t=Xt(),{setPanel:n}=ve(),{data:a}=O(),r=function(){const e=(0,Ue.A)();return[...e.breakpoints.keys].reverse().reduce(((t,n)=>{const a=(0,yt.A)(e.breakpoints.up(n));return!t&&a?n:t}),null)||"xs"}();return i.createElement(U.Ay,{item:!0},i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"flex-end",alignContent:"end",className:t.buttons},i.createElement(U.Ay,{item:!0,xs:12,style:{marginBottom:"18px"}},i.createElement(At.A,{activeStep:e.wizardPanelIdx,orientation:Wt("sm",r)?"vertical":"horizontal"},rn(a.edit).map((e=>i.createElement(gt.A,{key:e.title},i.createElement(Et.A,null,e.title)))))),i.createElement(U.Ay,{item:!0,style:{marginRight:"18px"}},i.createElement(d.A,{size:"small",disableElevation:!0,variant:"text",onClick:()=>{n(0)}},"Cancel")),i.createElement(U.Ay,{item:!0,style:{marginRight:"18px"}},i.createElement(d.A,{size:"small",disableElevation:!0,disabled:0===e.wizardPanelIdx,variant:"text",onClick:()=>{e.setWizardPanel(e.wizardPanelIdx-1)}},"Previous")),i.createElement(U.Ay,{item:!0},i.createElement(d.A,{size:"small",disableElevation:!0,variant:"contained",onClick:e.handleClick},e.wizardPanelIdx===an.length-1?"ok":"next"))))},on=e=>{const t=Xt(),[n,a]=i.useState(0),{data:r,setShowErrors:l,setEdit:o,setData:s,setShowMessageBox:c}=O(),{createSettings:d}=Ce(),{setEvses:m,addEvse:p,updateEvse:u}=se(),{settings:A}=Ce(),{setPanel:g}=ve(),{setSelect:E,setSelected:y}=we(),h=Y(),f=$();i.useEffect((()=>{r.edit&&s((e=>({...e,owner:f,id:A[0].id})))}),[]);return i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"center",alignContent:"center",style:{height:e.height}},i.createElement(U.Ay,{item:!0,lg:9,md:12},i.createElement(ke.A,{elevation:3,className:t.paper},i.createElement(U.Ay,{container:!0,direction:"column",justifyContent:"flex-start",alignContent:"flex-start"},i.createElement(U.Ay,{item:!0,className:t.header},i.createElement(D.A,{variant:"h5",component:"div",className:t.title},rn(r.edit)[n].title)),i.createElement(U.Ay,{item:!0,style:{maxHeight:e.height-200,overflow:"auto"}},rn(r.edit)[n].panel),i.createElement(ln,{handleClick:()=>{if(n===rn(r.edit).length-1){if(r.edit){console.log("updating");(async()=>{try{c(!0),await u(h,new le(A[0].id,ie,f,0,{supervision:A[0].supervision,connectors:A[0].connectors,gps:A[0].gps})),m((e=>({...e,shouldLoadData:!0}))),c(!1)}catch(e){alert(`An error occurs while updating ${e.message}`),c(!1),m((e=>({...e,shouldLoadData:!0,message:""})))}})()}else{console.log("Adding");(async()=>{try{c(!0),await p(h,new le(A[0].id,ie,f,0,{supervision:A[0].supervision,connectors:A[0].connectors,location:A[0].gps})),m((e=>({...e,shouldLoadData:!0}))),c(!1)}catch(e){alert(`An error occurs while adding ${e.message}`),c(!1),m((e=>({...e,shouldLoadData:!0,message:""})))}})()}g(0),o(!1),y(null),E(!1)}else(n===an.length-6?""!==r.id&&b(r.owner):n===an.length-5?"werenoderpcget"!==r.supervision.type||void 0!==r.supervision.switchon&&void 0!==r.supervision.switchoff:!(n===an.length-4?0===r.connectors.length:n===an.length-2&&A.reduce(((e,t)=>e||""===t.gps),!1)))?(n===rn(r.edit).length-3&&d(r),l(!1),a((e=>e+1))):l(!0)},wizardPanelIdx:n,setWizardPanel:a})))))};var sn=n(53440),cn=n(26009),dn=n(56160),mn=n(90820),pn=n(16870);const un=e=>{let{data:t}=e;return i.createElement(U.Ay,{container:!0,width:"70%",margin:"auto",direction:"column",padding:"10px"},i.createElement(U.Ay,{item:!0,container:!0,direction:"column"},i.createElement(D.A,{variant:"h5",component:"div",sx:{marginBottom:"15px",display:"flex",alignItems:"center"}},i.createElement(mn.A,{sx:{margin:"0px 8px  0px 0px"}}),"EVSE Information"),i.createElement(U.Ay,{item:!0,border:"1px solid #34383e",position:"relative",margin:"15px 0px"},i.createElement(D.A,{variant:"subtitle2",style:{position:"absolute",top:"-11px",paddingLeft:"8px",paddingRight:"8px",color:"#00B1A5"}},"Supervision"),i.createElement("div",{style:{padding:"10px"}},t.setting.supervision.type)),i.createElement(U.Ay,{item:!0,border:"1px solid #34383e",position:"relative",margin:"15px 0px"},i.createElement(D.A,{variant:"subtitle2",style:{position:"absolute",top:"-11px",paddingLeft:"8px",paddingRight:"8px",color:"#00B1A5"}},"Gps Coordinates"),i.createElement("div",{style:{padding:"10px"}},t.setting.gps||i.createElement("span",null,"No Gps coordinates")))),i.createElement(U.Ay,{item:!0,container:!0,maxHeight:"400px",direction:"column",sx:{overflowY:"auto"}},i.createElement(D.A,{variant:"h5",component:"div",sx:{marginBottom:"15px",display:"flex",alignItems:"center"}},i.createElement(pn.A,{sx:{margin:"0px 8px  0px 0px"}})," Connectors"),t.setting.connectors.length>0?t.setting.connectors.map(((e,n)=>i.createElement(U.Ay,{item:!0,margin:"10px 0px",key:`index-${n}`},i.createElement(Kt,{key:"connector"+n,identifier:n,rmConnector:null,editConnector:null,supervisiontype:t.setting.supervision.type,data:t.setting.connectors[n],hideButtons:!0})))):i.createElement("span",null,"No connectors")))},An=e=>({top:"61px",backgroundColor:e.palette.background.paper,borderColor:"#34383e"}),gn=e=>Object.assign({width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"},An(e)),En=e=>Object.assign({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${e.spacing(7)} + 1px)`,[e.breakpoints.up("sm")]:{width:`calc(${e.spacing(9)} + 1px)`}},An(e)),yn=(0,y.Ay)("div")((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,3),...t.mixins.toolbar}})),hn=(0,y.Ay)(De.Ay,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n}=e;return{width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...n&&{...gn(t),"& .MuiDrawer-paper":gn(t)},...!n&&{...En(t),"& .MuiDrawer-paper":En(t)}}})),fn=(0,y.Ay)(Be.A)({borderColor:"#34383e"}),vn=e=>{const t=$(),n=ne(),{evses:a,setEvses:r}=se();let l;if(e.panel>=ye(0)){const t=he(e.panel);l=a.data[t].id}else l=-1===e.panel?"Add EVSE(s)":ge[e.panel].title;return i.createElement(U.Ay,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center"},i.createElement(U.Ay,{item:!0},i.createElement(D.A,{variant:"h5"},l)),i.createElement(U.Ay,{item:!0},i.createElement(U.Ay,{container:!0,direction:"row",spacing:1,alignItems:"center"},i.createElement(U.Ay,{item:!0},i.createElement(D.A,{variant:"caption"},"Connected as"),i.createElement(je.A,{onClick:()=>(async()=>{try{await n("mainnet",{forcePermission:!0}),r((e=>({...e,shouldLoadData:!0})))}catch(e){alert(e.message)}})()},i.createElement(dn.A,null))),i.createElement(U.Ay,{item:!0},i.createElement(D.A,{variant:"caption",style:{fontFamily:"Courier Prime, monospace"}},t)))))},xn=e=>(i.useEffect((()=>{e.setHeaderHeight(document.getElementById("drawerheader").clientHeight)}),[]),i.createElement(yn,{id:"drawerheader"},i.createElement(vn,{panel:e.panel}))),wn=e=>{let{id:t}=e;const{evses:n}=se(),a=n.data[he(t)];return a?i.createElement(un,{data:a}):i.createElement("div",null)};function bn(e){const t=(0,Ue.A)(),{panel:n,setPanel:a,openevses:r,setOpenEvses:l,open:o,setOpen:s}=ve(),[d,m]=i.useState(0),{evses:p}=se(),u=e=>()=>{if(1===e)r?l(!1):(l(!0),o||s(!0));else a(e)},A=e=>r?n===e:n>=ye(0)?1===e:n===e;return i.createElement(c.A,{sx:{display:"flex"}},i.createElement(hn,{variant:"permanent",open:o},i.createElement(yn,null,i.createElement(je.A,{onClick:()=>{s((e=>!e)),r?l(!1):!o&&n>=ye(0)&&l(!0)},color:"inherit"},o?i.createElement(ze.A,null):i.createElement(He.A,null))),i.createElement(fn,null),i.createElement(Le.A,null,ge.slice(0,3).reduce(((e,a)=>{const l=i.createElement(qe.Ay,{button:!0,key:a.title,onClick:u(a.id),selected:A(a.id)},i.createElement(Re.A,null,a.icon),i.createElement(Ze.A,{primary:a.title}),a.title===Ee?r?i.createElement(cn.A,null):i.createElement(Ot.A,null):null);if(a.title===Ee){const a=p.data.map(((e,a)=>{const r=ye(a);return i.createElement(qe.Ay,{key:r,button:!0,style:{paddingLeft:t.spacing(4)},selected:n===r,onClick:u(r)},i.createElement(Ze.A,{primary:e.id}))}));return e.concat([l,i.createElement(sn.A,{key:"collapse",in:r,timeout:"auto",unmountOnExit:!0},i.createElement(Le.A,{component:"div",disablePadding:!0},a))])}return e.concat([l])}),[])),i.createElement(fn,null),i.createElement(Le.A,null,ge.slice(3,5).map((e=>i.createElement(qe.Ay,{button:!0,key:e.title,onClick:u(e.id),selected:A(e.id)},i.createElement(Re.A,null,e.icon),i.createElement(Ze.A,{primary:e.title})))))),i.createElement(c.A,{component:"main",sx:{flexGrow:1},style:{height:e.height}},i.createElement(xn,{panel:n,setHeaderHeight:m}),(t=>{switch(t){case-1:return i.createElement(on,{height:e.height-d});case 0:return i.createElement(mt,{height:e.height-d});default:return i.createElement(wn,{id:t})}})(n)))}const Cn=e=>_()?i.createElement(bn,{height:e.height}):i.createElement(Fe,{width:e.width}),Sn=e=>{const t=i.useMemo((()=>(0,o.A)({palette:{type:"dark",primary:{main:"rgba(0, 177, 165, 1)",contrastText:"white"},background:{paper:"#18191a",default:"#18191a"},text:{primary:"#fff",secondary:"rgba(255,255,255,0.7)",disabled:"grey"},info:{main:"#c7b45f"},action:{active:"rgb(255,255,255)",disabled:"#34383e",disabledBackground:"#34383e",hover:"rgba(0, 177, 165, 1)",selectedOpacity:"0.8"}}})),[!0]),{siteConfig:{customFields:n}}=(0,l.A)();return i.createElement(s.A,{theme:t},i.createElement(Q,{appName:Se.appname},i.createElement(ce,{apiKey:n.googleApiKey},i.createElement(oe,null,i.createElement(fe,null,i.createElement(xe,null,i.createElement(k,null,i.createElement(be,null,i.createElement("div",{style:{height:`${e.height}px`,width:`${e.width}px`}},i.createElement(Cn,{height:e.height,width:e.width})),i.createElement(G,null),i.createElement(W,null)))))))))};const kn=()=>{const[e,t]=(0,i.useState)({width:0,height:0}),{width:n,height:l}=e;function o(){t(function(){const{innerWidth:e,innerHeight:t}=a.A.canUseDOM?window:{innerWidth:0,innerHeight:0};return{width:e,height:t}}())}return(0,i.useEffect)((()=>{if(a.A.canUseDOM){window.addEventListener("resize",o);const e=new Event("resize");return window.dispatchEvent(e),()=>{window.removeEventListener("resize",o)}}}),[]),i.createElement(r.A,{noFooter:!0},i.createElement(Sn,{width:n,height:l-60}))}},99432:()=>{},47790:()=>{},73776:()=>{},15340:()=>{},79838:()=>{}}]);